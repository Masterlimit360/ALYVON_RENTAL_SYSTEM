# New Features: PDF Receipts & SMS Notifications

## ğŸ‰ What's New

Your ALYVON Rental Management System now includes two major features:

### 1. ğŸ“„ PDF Receipt Generation
- Automatically generates professional PDF receipts for each rental
- Includes company branding (logo, name, contact info)
- Shows complete rental details: customer info, items, pricing, dates
- Calculates discounts automatically
- Saves receipts in the `receipts/` folder

### 2. ğŸ“± SMS Receipt Notifications
- Send receipt notifications directly to customer phone numbers
- Supports multiple SMS gateway providers:
  - Twilio (International)
  - Africa's Talking (Africa)
  - SMSGH (Ghana)
  - Custom HTTP API
- Automatic phone number formatting (adds country code)
- Configurable and optional

### 3. ğŸ¨ Improved UI
- Modern color scheme (blue theme)
- Better fonts (Segoe UI)
- Enhanced button styling with hover effects
- Improved layout and spacing
- Professional appearance

---

## ğŸ“‹ How to Use

### Generating PDF Receipts

1. **Create a new rental** as usual
2. Make sure **"Generate PDF Receipt"** checkbox is checked (it's checked by default)
3. Click **"Create Rental"**
4. The receipt will be automatically generated and saved in the `receipts/` folder
5. A success message will show the receipt file path

### Sending SMS Notifications

1. **First, configure SMS** (see SMS_SETUP_GUIDE.md)
2. Create a new rental
3. Check **"Send Receipt via SMS"** checkbox
4. Make sure customer has a valid phone number
5. Click **"Create Rental"**
6. SMS will be sent automatically after rental creation

---

## âš™ï¸ Configuration

### Receipt Settings

Edit `sms_config.py` to customize company information on receipts:

```python
COMPANY_NAME = "ALYVON Rentals"
COMPANY_PHONE = "+233XXXXXXXXX"
COMPANY_EMAIL = "info@alyvonrentals.com"
COMPANY_ADDRESS = "Your Business Address"
```

### SMS Settings

See `SMS_SETUP_GUIDE.md` for detailed SMS configuration instructions.

---

## ğŸ“¦ New Dependencies

The following packages have been added to `requirements.txt`:

- `reportlab>=4.0.0` - PDF generation
- `requests>=2.31.0` - HTTP requests for SMS
- `twilio>=8.0.0` - Twilio SMS support (optional)

**To install:**
```cmd
pip install -r requirements.txt
```

---

## ğŸ“ New Files

1. **receipt_generator.py** - PDF receipt generation module
2. **sms_sender.py** - SMS sending module with multiple gateway support
3. **sms_config.py** - SMS and company configuration
4. **SMS_SETUP_GUIDE.md** - Detailed SMS setup instructions
5. **NEW_FEATURES.md** - This file

---

## ğŸ“‚ Receipt Storage

PDF receipts are saved in the `receipts/` folder with this naming format:
```
Rental_{rental_id}_{timestamp}.pdf
```

Example: `Rental_123_20241020_143022.pdf`

---

## ğŸ”§ Features Details

### Receipt Includes:
- âœ… Company logo and branding
- âœ… Receipt number and date
- âœ… Customer information
- âœ… Rental period (start/return dates)
- âœ… Complete itemized list
- âœ… Subtotal, discount, and total amount
- âœ… Professional formatting
- âœ… Thank you message

### SMS Includes:
- âœ… Customer name
- âœ… Rental ID
- âœ… Total amount
- âœ… Return date
- âœ… Professional formatting

---

## âš ï¸ Important Notes

1. **SMS is Optional**: SMS sending is disabled by default. Configure it in `sms_config.py` if you want to use it.

2. **Receipts Always Generated**: PDF receipts are generated by default. You can uncheck the box if you don't want a receipt for a specific rental.

3. **Phone Number Format**: The system automatically adds country code (+233 for Ghana). Numbers starting with 0 are converted automatically.

4. **SMS Costs**: SMS sending may incur costs depending on your SMS gateway provider. Check their pricing.

---

## ğŸ› Troubleshooting

### Receipt Not Generated
- Check that `reportlab` is installed: `pip install reportlab`
- Make sure you have write permissions in the app folder
- Check console for error messages

### SMS Not Sent
- Verify SMS gateway is configured in `sms_config.py`
- Check that `SMS_GATEWAY` is not set to 'disabled'
- Verify customer has a valid phone number
- Check SMS gateway API credentials
- See `SMS_SETUP_GUIDE.md` for detailed troubleshooting

### UI Looks Different
- The UI has been modernized with a blue theme
- All functionality remains the same
- If you prefer the old style, you can revert the UI changes

---

## ğŸš€ Next Steps

1. **Install new dependencies:**
   ```cmd
   pip install -r requirements.txt
   ```

2. **Update company information:**
   - Edit `sms_config.py`
   - Add your company details

3. **Configure SMS (optional):**
   - Read `SMS_SETUP_GUIDE.md`
   - Choose your SMS gateway
   - Add credentials

4. **Test the features:**
   - Create a test rental
   - Check receipt generation
   - Test SMS sending (if configured)

---

## ğŸ’¡ Tips

- Keep receipts organized: They're stored in `receipts/` folder with timestamps
- SMS gateway costs vary: Check pricing before enabling
- Receipt PDFs can be printed or emailed manually
- You can disable SMS for specific rentals by unchecking the box
- Company logo appears on receipts if `ALYVON logo.png` exists in the app folder

---

**Enjoy the new features!** ğŸ‰

